# 大模型改进

### 数据飞轮

1. 数据驱动决策

   首先，通过收集大量的数据，并进行深入分析，企业能够获得对市场、用户和业务的深刻洞察。这些洞察为决策制定提供了依据，使企业能够做出更加明智的决策。

   例如，一家零售企业通过分析销售数据和用户反馈，发现某一产品的销量下降，同时用户对该产品的质量和价格提出了一些意见。基于这些分析结果，企业决定对该产品进行改进，提高质量并调整价格。

2. 决策推动行动

   决策制定后，企业需要将其转化为实际行动。这些行动可以包括产品改进、营销策略调整、运营优化等方面。

   例如，企业根据决策结果，对产品进行了重新设计和生产，并推出了一系列促销活动。同时，企业还优化了供应链管理，提高了物流效率，以确保产品能够及时送达用户手中。

3. 行动产生数据

   行动执行后，会产生新的数据。这些数据可以用来评估行动的效果，并为下一轮的数据分析和决策制定提供依据。

   例如，企业推出新产品和促销活动后，可以通过销售数据、用户反馈等渠道收集新的数据，了解用户对新产品和促销活动的反应。这些数据可以帮助企业评估行动的效果，并为下一步的决策提供参考。

4. 数据反馈循环

   新产生的数据又会进入数据收集环节，开始新一轮的数据分析和决策制定。这样，数据飞轮就不断地循环运转，推动企业持续发展和创新。（**数据反馈：用户与模型的交互会产生新的数据，这些数据可以用来进一步优化模型，通过持续收集用户反馈和交互数据，模型可以不断学习和适应，提高其性能和准确性。**）

   例如，企业通过对新数据的分析，发现新产品和促销活动取得了良好的效果，但也存在一些问题。企业可以根据这些反馈，进一步优化产品和营销策略，不断提高业务绩效。

### 改进LLM

大型语言模型在许多应用中都需要纳入用户的特定数据，而这些数据并不在模型原有的训练数据集中。为了给用户生成更准确且与上下文相关的回复，需要检索外部数据，并在生成回答时将其纳入LLM。

#### 检索增强生成：retrieval-augmented generation(RAG)

定义：large language models with external knowledge bases have been developed. These are used to produce more accurate and contextually relevant text responses. This approach is called **Retrieval-Augmented Generation**

使用：这种迭代方法使用模型的输出作为上下文，根据这个上下文去获取与这个上下文提及的内容有关的信息（知识），那么，随着新的相关知识的引入，模型在进行下一次迭代时，就有了更丰富的信息基础，会产生更好的结果。

> [!important]
>
> 大型语言模型通常需要纳入{现有训练数据集}**未涵盖**的用户特定数据。检索增强生成是一项关键技术，它通过检索外部数据并将其纳入生成过程，有助于提高语言模型回复的准确性和相关性。

#### 检索链：Retrieval chain

**Retrieval Chain**是一个更广泛的概念，指的是在语言模型生成输出之前，**检索相关的外部信息**来辅助模型的生成过程。这个过程可以是手动或自动完成的，也可以包含多个步骤。例如，你可以检索多个数据源、对它们进行分析、然后将检索到的上下文提供给模型作为生成依据。

| **方面**             | **Retrieval Chain**                                          | **Retrieval-Augmented Generation (RAG)**                     |
| -------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| **结构**             | 比较松散，模型和检索机制可以分开处理。模型和检索系统可以分开处理(coze)，可能是串联的。 | 检索和生成紧密结合，它的流程是**检索和生成同时进行**         |
| **检索与生成的关系** | 检索是生成的**辅助工具**，模型用检索到的内容作为上下文来回答。 | 检索是生成的**核心**部分，生成时直接将检索结果融入到生成的输出中。 |
| **检索步骤**         | 可能包括**多轮检索、多个知识库**的结合，甚至与用户互动的过程。 | 通常是一次性完成的检索和生成，不需要多次迭代。               |
| **应用场景**         | 适用于需要多轮查询或复杂任务的场景。                         | 更适用于直接从知识库中**检索和生成复合答案**的任务。         |
| **处理信息方式**     | 检索结果作为上下文辅助模型生成更好的答案。                   | 更加注重在生成过程中直接使用**检索到的文档片段**作为生成内容的一部分，模型不单单是利用上下文，而是可以将检索的结果嵌入到生成的句子中。 |

