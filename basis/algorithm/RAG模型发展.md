## RAG模型发展

### RAG局限性（native rag）

1. **检索阶段的挑战（Retrieval Challenges）**：

   它经常会选择不太相关的内容，漏掉关键的信息，从而导致后续生成阶段无法准确反映所需信息。这可能会让模型生成出脱离实际问题的内容。

2. **生成阶段的困难（Generation Difficulties）**：

   在生成回答时，RAG模型可能会出现所谓的“幻觉”（hallucination）问题，也就是生成一些没有根据的内容。由于模型可能会将<u>不相关的信息</u>混入生成内容中，从而导致结果中可能含有一些有偏见、不恰当或甚至有害的内容，从而降低了答案的质量和可靠性。

3. **单次检索的局限性**：

   RAG模型在处理复杂任务时，单次检索的信息量往往不足以满足生成优质回答的需求。此外，由于生成模型可能过于依赖检索到的信息，导致最终的输出有时只是对检索内容的简单复述，而缺少深入的分析或独到的见解。

### Advanced RAG

1. 检索阶段的改进。

   * 索引优化

     为了让检索系统更好地理解内容，Advanced RAG在<u>索引建立时</u>（在查的时候要索引的那些列）进行精细化分割，在处理大量文本数据时，如果直接把一大块信息放入索引（也就是类似数据库的结构），模型很容易找不到真正相关的部分。Advanced RAG通过“精细化分割”和“滑动窗口”方法，按小段来组织信息，这样即使内容很长，模型也能更精准地找到对应的句子或段落。

     ​	:sailboat:*举个例子*：假设有一段文章包含多个主题，滑动窗口会把文章按小段滑动分隔（比如，每隔一句话分一段），这样不同主题的内容都能独立被索引，提升了模型找到细节的概率。

     元数据就是给信息添加的“标签”或“附加信息”。这些标签帮助模型更清楚内容的背景、类型或话题。

     ​	:sailboat:*举个例子：*假设一段内容和“历史事件”有关，而另一段是“科学研究”，加入元数据可以标记出每段的主题类别，模型在查找时就会优先匹配同类内容，避免不相关的信息混入。

   * 查询优化：通过对原始查询进行改写、扩展（query rewriting, query expansion等），让模型更清楚用户的需求，从而更好地检索相关内容。

2. 后检索阶段的优化：检索完成后，Advanced RAG会对找到的内容进一步处理，保证生成时能高效使用这些信息。这包括：

   * **内容重排序（reranking）**：Advanced RAG会将最相关的内容优先放在检索结果的最前面，以确保模型优先处理这些核心内容。这样，模型生成的回答能够更加准确和针对性。
   * **上下文压缩（context compressing）**：直接将所有信息传递给模型，可能会导致“信息过载”（信息量太大、重要信息被稀释）。为了解决这个问题，Advanced RAG会筛选和压缩信息，只保留与回答密切相关的部分，确保回答简洁而不失重点。

### Modular RAG



retrieve-then-read

LLM生成器取代文档检索器

generate-then-read. 它首先促使LLM根据给定的问题生成上下文文档，然后阅读生成的文档以生成最终答案。此外，我们还提出了一种新颖的基于聚类的提示方法，该方法可选择不同的提示，以生成涵盖不同观点的多样化文档，从而提高可接受答案的召回率。